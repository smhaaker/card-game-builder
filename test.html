<html>

<head>

    <script type="text/javascript" src="./src/cardframe.js"></script>
    <script>

        let config = new setupGame('SteffenCards', 2, 1, 4, 'a sample deck builder')

        console.log(config)
        
        let colors = createColors(['red', 'white', 'blue', 'black'])
        console.log(colors)

        let powers = createPowers(['superpunch', 'tickle machine', 'farts'])
        let powers2 = createPowers(['balk', 'walk', 'talk', 'chalk?'])

        let additional = {
            More: "Things", 
            Work: "works!"
        };

        let set1 = createAttributes(0, 3, "CatBot", 30, colors[1], powers2, "Strong Card", additional)
        let set2 = createAttributes(4, 7, "DogBot", 20, colors[2], powers, "Medium card", additional)
        let set3 = createAttributes(8, 16, "SteffenBot", 10, colors[3], powers, "Standard Card", additional)


        let deck = mergeSets(set1, set2, set3)
        // console.log(deck)

        let shuffled = shuffle(deck);
            console.log(shuffled)

            function shuffle(deckToShuffle) {
                for (let i = 0; i < deckToShuffle.length - 1; i++) {
                    let j = i + Math.floor(Math.random() * (deckToShuffle.length - i));

                    let temp = deckToShuffle[j];
                    deckToShuffle[j] = deckToShuffle[i];
                    deckToShuffle[i] = temp;
                }
                return deckToShuffle;
            }

            function deal(source, cardsToDeal) {
                // this works for 2 players. Need to fix for multiple players. Or just one
                let playerArr = []
                let playerArr2 = []
                for (let i = 0; i < cardsToDeal; i += 2){
                    // playerArr gets evens, playerarr2 get odds? so just do i+1 and 
                    if(cardsToDeal > source.length){
                    console.log('not that many cards in deck')
                    break;
                    }
                    else {
                    if(source[i].cardstatus.picked == true){
                        // pick next card
                        console.log('this card is already picked')
                    }
                    else {
                        playerArr.push(source[i])
                        inPlay(source[i], true)
                        playerArr2.push(source[i+1])
                        inPlay(source[i+1], true)
                        }  
                    }
                    }
                // console.log(playerArr2)
                return playerArr
                }

                let dealtToPlayer1 = deal(shuffled,6)
                console.log(dealtToPlayer1)
                // let dealtToPlayer2 = deal(shuffled,4)
                // console.log(dealtToPlayer2)
                // // cardframe.dealCards(4)
                // console.log(dealtToPlayer1[1])
    </script>

</head>


    <h1 id='title'>title</h1>
    <h2 id='desc'>desc</h2>


<script>

    let h1Title = document.getElementById('title')
    h1Title.innerHTML = config.nameOfGame;
    let h2Desc = document.getElementById('desc')
    h2Desc.innerHTML = config.description;

</script>

</html>